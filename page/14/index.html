<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/png" href="/images/cabin.png" >
    <link href="/styles/main.css" rel="stylesheet">
    
    <title>Integralist -> BBC News Engineer</title>
    
    
    <link rel="alternate" type="application/atom+xml" title="Integralist" href="http://feeds.feedburner.com/Integralist">
  </head>
  <body>
    <nav>
      <h1 class="name">
          <a href="/">Integralist</a> <span class="role">BBC News Engineer</span>
      </h1>
      <div class="menu icon-menu"></div>
      <ul class="nav-links">
        <li class="text-link">
          <a href="/about.html">about</a>
        </li>
        <li class="text-link">
          <a href="/projects.html">projects</a>
        </li>
        <li class="text-link">
          <a href="/archives.html">archives</a>
        </li>
      </ul>
      <div class="social-media">
        <a href="https://github.com/integralist" class="icon-github"></a>
        <a href="https://twitter.com/integralist" class="icon-twitter"></a>
      </div>
    </nav>
    <div class="content">


  <div class="post-head group">
  <a href="/posts/how-to-use-git-and-github/">
    <h1 class="post-title">How to use Git and GitHub</h1>
  </a>
  <span class="post-date">2012 &#183; 1 &#183; 3</span>
</div>

<div class="post-body"><h2><a name="what-we-ll-cover"class="anchor" href="#what-we-ll-cover"><span class="header-link"></span></a>What we&#39;ll cover</h2>
<p><em>reading time: approx. 26mins</em></p>
<ul>
<li>Introduction</li>
<li>What is Git/GitHub?</li>
<li>Using the GitHub interface</li>
<li>Installing Git</li>
<li>Setting up a new Git repository</li>
<li>Adding files for Git to track</li>
<li>Commiting files to Git</li>
<li>Setting up a GitHub account</li>
<li>Generating an SSH Public Key</li>
<li>Creating a new GitHub repository</li>
<li>Pushing your project up to GitHub’s repository</li>
<li>Removing/Editing files</li>
<li>Git Tips</li>
<li>Tell Git to ignore certain files and formats</li>
<li>Best practices for Commit Messages</li>
</ul>
<h2><a name="introduction"class="anchor" href="#introduction"><span class="header-link"></span></a>Introduction</h2>
<p>If you’re having trouble understanding how to get up and running with GitHub, or you just wanted to find a free version-control system and heard about this thing called ‘Git’ then hopefully the following information should help…</p>
<h2><a name="what-is-git-github-"class="anchor" href="#what-is-git-github-"><span class="header-link"></span></a>What is Git/GitHub?</h2>
<p>When I first heard about GitHub I was unsure as to its purpose and why it was such a hit with other developers. I had never heard of ‘Git’ before and whenever people spoke of GitHub they would mention Git at the same time, and so because they both had ‘Git’ in their name I just assumed they were one and the same thing - which as it turns out was quite wrong indeed.</p>
<p>To clarify, ‘Git’ is a program. Once installed on your computer it can be accessed via the Command Line. You could very well have yourself a nice little ‘version control’ set-up on your computer using just Git and without ever needing to look at, or even having heard of, ‘GitHub’.</p>
<p>GitHub on the other hand is a website that hosts Git ‘files’ (known as ‘repositories’) and so it makes it a lot easier for open-source projects to have other developers help extend the project by allowing these developers to grab(<code>fork</code>) the project code (even though they didn’t create the project on GitHub) and to duplicate the project set-up and to modify it however the developer wishes and then allow the developer to submit changes, bug fixes, new features etc back to the original developers to integrate if they were so inclined.</p>
<p>It’s an incredibly powerful tool.</p>
<p>So with this in mind it’s best to learn about Git first, so then using GitHub will suddenly make a whole lot more sense! And this is why I think I struggled with GitHub initially: because I had no idea about what Git was and how it worked.</p>
<p>But before we get started…</p>
<h2><a name="using-the-github-interface"class="anchor" href="#using-the-github-interface"><span class="header-link"></span></a>Using the GitHub interface</h2>
<p>Now I know I said we would start with learning Git first, THEN GitHub. But it is worth noting at this stage (mainly by <a href="http://twitter.com/paul_irish">@paul_irish</a>’s request) that you can in fact update files directly via the GitHub website!</p>
<p>So if you want to avoid the command line altogether but you still want to help work with open-source projects on GitHub and in the simplest/easiest way possible, then read this section only and stop there (as the rest of the sections of this post will likely be of no interest to you).</p>
<p>If on the other hand using the GitHub interface doesn’t interest you at all and you really want to learn about what Git is and how to use it (and thus be able to use GitHub more effectively) then just skip this section and move onto “Installing Git”. So first thing you guys want to do is to sign-up for a GitHub account here:</p>
<p><a href="https://github.com/signup/free"><a href="https://github.com/signup/free">https://github.com/signup/free</a></a> (to get to this page you need to go through the ‘Pricing and Signup’ link at the top of the GitHub home page, and from there you’ll be able to find the ‘free’ account set-up).</p>
<p>Once you’ve got your free account created you can start using GitHub for the more ‘basic’ Git features, such as ‘forking’ (i.e. taking a copy of…) an open-source project and making changes to it. We’ll create a new <code>fork</code> of the ‘jQuery JavaScript Library’ and start making some changes to the code base, and then submitting ‘commits’ to our own copy of the jQuery library project (i.e. saving our project’s current state). Then when happy with our changes we’ll submit a <code>pull</code> request to the jQuery owners! (and basically, by ‘pull’ we’re really saying “please jQuery, accept the changes we’ve made to your code base - we’d love for you to integrate them into the jQuery source”). So let’s take a look at the jQuery JavaScript Library page here:</p>
<p><a href="https://github.com/jquery/jquery"><a href="https://github.com/jquery/jquery">https://github.com/jquery/jquery</a></a>. On this page you should see a ‘fork’ link near the top right of the page. Click on it. You’ll notice that GitHub will start making a copy of the jQuery JavaScript Library project and will generate a new project within your account under the same name. </p>
<p>Now, you’ll see a list of all the files within this project and you can click on any folder/file to see its content. So let’s take a look at the README.md file by clicking on it’s name. You’ll see that GitHub does a nice little AJAX sliding animation and then shows you the README.md file… wonderful.</p>
<p>The next step is to click the ‘Edit this file’ link, which you’ll see on the right-hand side of the page. The file you were looking at has now moved into ‘edit’ mode and so you can start typing out some changes to the file (obviously if you’re a developer then you can open up the core JavaScript files and start making tweaks there in the same way).</p>
<p>After you’ve made the changes you wanted to the file, simply move to the input field below the file, just where it says “Commit message” and enter a description of the change you made (note: if the changes you are making are for your own personal use then just write whatever you like, but if you are actually planning on submitting your changes to jQuery to integrate into the source then you’ll need to find out what jQuery requires you to include within the ‘commit’ message - for example the jQuery UI project has written up some submission guidelines here: <a href="http://wiki.jqueryui.com/w/page/25941597/Commit-Message-Style-Guide"><a href="http://wiki.jqueryui.com/w/page/25941597/Commit-Message-Style-Guide">http://wiki.jqueryui.com/w/page/25941597/Commit-Message-Style-Guide</a></a> and so I assume there are similar guidelines for the main jQuery project).</p>
<p>Once your commit message has been entered then you can click the “Commit Changes” button at the bottom of the page. Now when the page reloads you’ll see the latest note/commit for this file is actually yours and shows your commit message. But this is still only changes to <em>your</em> copy of the jQuery library.</p>
<p>You need to now tell jQuery about your very important change and get them to integrate it into their source version. To do this you now need to click the “Pull Request” link at the top of the page (near where you clicked on the “Fork” link from earlier. Clicking the “Pull Request” link will redirect you to a page where you must enter a message to go along with your commit (this will be reviewed by core committers!). Final step! Click “Send pull request” at the bottom of that page (just under where you entered your message).</p>
<p>From here you can sit back and relax, I think? Again I’ve read somewhere previously (for jQuery UI) that you need to add a link to your commit to the ticket in their tracker system (jQuery may very well have something similar I’m not sure though). But enough of this GUI nonsense, lets start using Git how it was meant to be used… on the command line!</p>
<h2><a name="installing-git"class="anchor" href="#installing-git"><span class="header-link"></span></a>Installing Git</h2>
<p>OK, first thing first, lets get Git installed (by the way I work on a Mac so hopefully this guide is still somewhat useful to PC users). I personally found the easiest way to install git is via a pre-compiled installer: <a href="http://code.google.com/p/git-osx-installer/"><a href="http://code.google.com/p/git-osx-installer/">http://code.google.com/p/git-osx-installer/</a></a>.</p>
<p>There are installers for PC as well as Mac and Linux so take your pick and you can install from the original Git source code but that’s a bit more ‘involved’. The official GitHub website mentions many ways to install Git, but I found the pre-compiled installer the quickest/easiest way - I pretty much ran the installer and it was done in about two seconds flat.</p>
<p>When Git is installed the first thing we’ll probably want to do is to tell it what our name and email is (this way, when working with a system - such as GitHub - and having multiple users working on your code base you can easily see which users made changes to the code - and tell them off if they added/removed code that broke your application).</p>
<p>To inform Git what your username and email address is, open the Terminal application on your Mac and enter:</p>
<pre><code class="lang-sh"><div class="highlight"><pre>git config --global user.name <span class="s2">&quot;Joe Bloggs&quot;</span>
git config --global user.email <span class="s2">&quot;joe@bloggs.com&quot;</span>
</pre></div>
</code></pre>
<p>You can check these settings at any time within the Terminal by typing:</p>
<pre><code class="lang-sh"><div class="highlight"><pre>git config user.name
git config user.email
</pre></div>
</code></pre>
<p>Next you want to make sure that Git ignores any ‘white space’ changes. Now this needs a little bit extra explanation: Git tracks file <em>content</em> and NOT individual files. So if you add an empty new line to a file (and Git is tracking that file) then Git will inform you that the file has been modified but you don’t really want a single empty line to be flagged up to you (not in web development really as white space is not that important). To have Git ignore whitespace changes you can enter the following into the Terminal:</p>
<p><code>git config --global apply.whitespace nowarn</code></p>
<p>Now that we’ve got Git set-up we need to look at how we can tell it to ‘track’ certain files &amp; folders in your project.</p>
<h2><a name="setting-up-a-new-git-repository"class="anchor" href="#setting-up-a-new-git-repository"><span class="header-link"></span></a>Setting up a new Git repository</h2>
<p>Now, using Git does require a tiny bit of command line knowledge (such as navigating your computer via command line, making new directories and files, removing files etc). I’ll try and cover as much of this as I think is needed to use Git (you may need more commands than I cover but then I’ll leave that up to you to look into further). OK, so with the Terminal still open, navigate to your project folder (we do this by using the <code>cd</code> command - which stands for ‘change directory’)…</p>
<p><code>cd ~/Dropbox/Project/</code></p>
<p>…as you can see I have a folder called ‘Project’ within a private <a href="http://www.dropbox.com/">Dropbox</a> folder. The tilda character <code>~</code> simply tells Terminal to go back to your home directory and start looking from there for the folder you need. You can also navigate your Mac using <code>../</code> to go up and down folders. If you want to check the contents of a particular folder then simply type <code>ls</code> which tells Terminal to ‘list’ the content of the current folder.</p>
<p>Once you’re inside the project folder you’ll need to create an empty Git ‘repository’, which means Git will create a hidden folder called <code>.git</code> where it will store all files and references it needs to be an effective version-control system for this project folder. To create a new Git repository type the following (make sure you’re definitely in your main project folder):</p>
<p><code>git init</code></p>
<p>If you’re Mac is set-up to not show ‘hidden’ folders then it wont look like much has happened (although you will now see a message in the Terminal telling you a new empty repository was created). If you really want to see hidden files and folders on your Mac then type the following into the Terminal…</p>
<pre><code class="lang-sh"><div class="highlight"><pre>defaults write com.apple.Finder AppleShowAllFiles YES
killall Finder
</pre></div>
</code></pre>
<p>…the first line tells Finder to allow showing of hidden files, and the second line restarts Finder so you can see the changes take effect. Once you have a new Git repository set-up you need to tell Git what files/folders to start ‘tracking’.</p>
<h2><a name="adding-files-for-git-to-track"class="anchor" href="#adding-files-for-git-to-track"><span class="header-link"></span></a>Adding files for Git to track</h2>
<p>If you don’t already have any files in your project folder then we can at least add one file (via the Terminal as well) which will become useful later when you start to use GitHub as a code sharing platform. To create a file via the Terminal we must use the <code>touch</code> command like so…</p>
<p><code>touch README.md</code></p>
<p>…the above line creates a ‘README.md’ file (which is used by GitHub to give a project you create a visible description). Now as it happens I already had a few files in my project folder so along with the README.md file I just created I’m going to start adding these files to Git’s “Staging Area”.</p>
<p>The Staging Area is a place to add your files/folders before ‘commiting’ the changes you’ve made to these files and then (if you need to…) pushing the changed files onto a remote server (such as we’ll be doing later when we push our files up to our GitHub repository). To add a file/folder to the Staging Area (and thus have Git start ‘tracking’ the files and their changes) enter…</p>
<p><code>git add README.md</code></p>
<p>…this tells Git to start tracking the README.md file, but we could have specified multiple files at once using a space to separate the file names such as…</p>
<p><code>git add file1 file2 file3</code></p>
<p>…we could also tell Git to track ALL files/folders currently found within this folder…</p>
<p><code>git add *</code></p>
<p>…and lastly if you’re coming back to an existing project you can tell Git to track any new ‘un-tracked’ files using the line…</p>
<p><code>git add .</code></p>
<p>…the period character (.) simply means ‘any un-tracked files’ and saves you having to remember which new files are or aren’t being tracked already. The <code>add</code> command makes it easy to add as many files as you like to Git’s “Staging Area”.</p>
<p>You can add some files, go away and make a cup of tea, work on something else and then come back and add some more files to the Staging Area. But for any of these files to be ‘committed’ and thus have a ‘snap shot’ of the project (so we can - if we need to - revert back to an older version) we need to use the <code>commit</code> command to tell Git we want it to snap shot our project in its current state…</p>
<h2><a name="commiting-files-to-git"class="anchor" href="#commiting-files-to-git"><span class="header-link"></span></a>Commiting files to Git</h2>
<p><code>git commit -m &#39;Add a README file to help explain the project&#39;</code></p>
<p>…the above command uses the <code>-m</code> ‘flag’ which means you’re about to add a comment to go along with this ‘commit’. You don’t have to use the <code>-m</code> flag, but if you don’t then Terminal will try and open the default text editor so you can enter your commit description and I find it quicker and easier just to use the <code>-m</code> command.</p>
<p>Now that we’ve been acquainted with Git, and created a new Git repository, added some files and committed them to Git we can start looking at using a remote server for collaborating on our project. To do this we’re going to use <a href="https://github.com/"><a href="https://github.com/">https://github.com/</a></a> the ‘Social Coding’ website.</p>
<h2><a name="setting-up-a-github-account"class="anchor" href="#setting-up-a-github-account"><span class="header-link"></span></a>Setting up a GitHub account</h2>
<p>Note: if you need extra help (beyond what I’ve shared) then you can refer to the official GitHub help pages here: <a href="http://learn.github.com/p/setup.html"><a href="http://learn.github.com/p/setup.html">http://learn.github.com/p/setup.html</a></a> So the first thing to do is to register for an account (you have to go through the ‘Pricing and Signup’ page to find the ‘free’ account set-up): <a href="https://github.com/signup/free"><a href="https://github.com/signup/free">https://github.com/signup/free</a></a> (as you’ll see on that page, there are paid for options available so your team of developers can collaborate with a version-controlled project using GitHub’s servers, rather than having to work out how to set-up their own ‘remote’ server to push code changes to).</p>
<p>Once you’ve signed up, I recommend the first thing you do is to create a SSH Public Key (you’re going to need it to be able to securely access remote files - and by ‘remote’ I mean access your project files on the GitHub server). GitHub have a useful page for explaining how to set-up the SSH Public Key: <a href="http://help.github.com/mac-key-setup/"><a href="http://help.github.com/mac-key-setup/">http://help.github.com/mac-key-setup/</a></a>.</p>
<p>Most of you will find that you can skip the first part of the page and head straight down to the section titled ‘Generating a key’ (I mention how to set-up your SSH Public Key below, but do have a read over the provided link as it should help clarify what to do).</p>
<h2><a name="generating-an-ssh-public-key"class="anchor" href="#generating-an-ssh-public-key"><span class="header-link"></span></a>Generating an SSH Public Key</h2>
<p>Basically, in the Terminal you type…</p>
<p><code>ssh-keygen -t rsa -C &quot;joe@bloggs.com&quot;</code></p>
<p>…obviously change the email address from <code>joe@bloggs.com</code> to whatever email address you used to sign-up to GitHub with. Terminal will then tell you…</p>
<pre><code class="lang-sh"><div class="highlight"><pre>Generating public/private rsa key pair.
Enter file in which to save the key <span class="o">(</span>/Users/tekkub/.ssh/id_rsa<span class="o">)</span>:
</pre></div>
</code></pre>
<p>…but your message will be slightly different in that the directory path in the brackets (e.g. <code>(/Users/tekkub/.ssh/id_rsa)</code>) will likely be different on your computer.</p>
<p>The next thing to do is to simply press <code>ENTER</code> and Terminal will generate a new SSH Public Key within the hidden ‘id_rsa’ file it mentions (if you didn’t hit <code>ENTER</code> then the Terminal would expect you to enter the name of a file to save the SSH Public Key into - so I didn’t bother messing around doing that and just saved the key into the file the Terminal suggested I use). Next Terminal will ask you to enter a pass phrase…</p>
<p><code>Enter passphrase (empty for no passphrase):</code></p>
<p>…I advise you enter a good password which you wont forget and just press <code>ENTER</code> again (Terminal will ask you to enter the same pass phrase again, so it’s sure you know what you typed).</p>
<p>Now Terminal will have generated your SSH Public Key, and you’ll need to provide this public key to GitHub so it knows it’s you connecting to its server and trying to change your project files. If you’ve never seen an SSH Public Key before then you may be mistaken that the gobble-dee-gook that the Terminal spit out at you after your last command was the SSH Public Key. Wrong!</p>
<p>You can’t see the key, but you can copy it to your clipboard (for pasting into the GitHub website). So now open your web browser and head back to your GitHub account page and look for the link in your account page for entering an SSH Public Key (direct link: <a href="https://github.com/account#ssh_bucket"><a href="https://github.com/account#ssh_bucket">https://github.com/account#ssh_bucket</a></a>).</p>
<p>Now go back to the Terminal and enter the following command to copy your SSH Public Key to your clipboard…</p>
<p><code>cat ~/.ssh/id_rsa.pub | pbcopy</code></p>
<p>…once copied into your clipboard, go back to the relevant GitHub SSH page and paste your key in and save the changes to your account settings. This now leaves just one last thing for you to do while logged into the GitHub website and that is to create a new ‘repository’.</p>
<h2><a name="creating-a-new-github-repository"class="anchor" href="#creating-a-new-github-repository"><span class="header-link"></span></a>Creating a new GitHub repository</h2>
<p>To create a new repository you’ll need to go to this page <a href="https://github.com/repositories/new"><a href="https://github.com/repositories/new">https://github.com/repositories/new</a></a> (you’ll find links all over the place for creating a new repository, but it’s easier if I just link to it for you).</p>
<p>Now enter the information GitHub asks for (I created a repository called ‘Project Template’ and it generated the following URL: <a href="https://github.com/Integralist/Project-Template">https://github.com/Integralist/Project-Template</a>).</p>
<p>Once you’ve created a new repository on GitHub, it will show you some Terminal commands you can run for setting up Git locally and pushing the project file to GitHub’s online repository.</p>
<h2><a name="pushing-your-project-up-to-github-s-repository"class="anchor" href="#pushing-your-project-up-to-github-s-repository"><span class="header-link"></span></a>Pushing your project up to GitHub’s repository</h2>
<p>In the Terminal, lets make sure we’re still in our project directory…</p>
<p><code>cd ~/Dropbox/Project/</code></p>
<p>…once we’re back in our project folder we can now set-up our remote server access…</p>
<p><code>git remote add origin git@github.com:Integralist/Project-Template.git</code></p>
<p>…OK, so what’s happening here? Well, we’re telling Git that we want to add a remote server and store it under the easy to remember name of ‘origin’. We could of called ‘origin’ anything we liked… E.g. ‘MyRemoteServer’</p>
<p><code>git remote add MyRemoteServer git@github.com:Integralist/Project-Template.git</code></p>
<p>…the line that follows the name we gave is the URL for the GitHub repository we created (and you’ll see this URL on your project page when you first set-up a new repository). Now that we have created an <code>origin</code> to hold our remote server information we can now ‘push’ our project online to GitHub…</p>
<p><code>git push origin master</code></p>
<p>…the above line uses the <code>push</code> command to tell your local Git to push your latest ‘commit’ to the specified remote server.</p>
<p>Now the word <code>master</code> which you can see at the end of the command simply refers to the default ‘branch’ that is set-up (I don’t go into the details of it here, but Git allows you to <code>branch</code> off your code.</p>
<p>So for example, if we decided we wanted to add some new features to our project, which could end up breaking things if not properly tested, we could create another branch called ‘new_feature’ which would be a complete copy of the current project for us to work from - and that way we leave the original ‘master’ branch untouched so we can continue to work on maintaining that copy of the project and allowing us to fix any bugs found in it while developing the new feature, then when the new feature is ready and tested we can then <code>merge</code> the new feature back into our ‘master’ branch - but these are all commands left for another time).</p>
<p>Now, back to the <code>push</code> command: As it is our first push, the Terminal will not be able to authenticate the host ‘github.com’ so we’ll just type ‘yes’ to confirm we trust it. For me, the push failed the first time I tried - this I found out straight away afterwards was because I needed to enter my pass phrase.</p>
<p>After it failed the first time I typed the <code>git push origin master</code> command again and this time the Terminal displayed a dialog window asking me to enter my passphrase for accessing my SSH Public Key. I entered my passphrase and then the push started to proceed successfully.</p>
<p>Now we can start pushing files any time we like to this particular project. I had a file called ‘robots.txt’ in my project.</p>
<p>Lets say I made an update to the file ‘robots.txt’ - I can push that on it’s own:</p>
<pre><code class="lang-sh"><div class="highlight"><pre>git add robots.txt
git commit -m <span class="s1">&#39;Add some new robot configurations&#39;</span>
git push origin master
</pre></div>
</code></pre>
<h2><a name="removing-editing-files"class="anchor" href="#removing-editing-files"><span class="header-link"></span></a>Removing/Editing files</h2>
<p>To remove a file (e.g. lets remove the ‘robots.txt’ file) simply type…</p>
<p><code>git rm robots.txt</code></p>
<p>…then do the normal commit with message and push.</p>
<pre><code class="lang-sh"><div class="highlight"><pre>git commit -m <span class="s1">&#39;Remove the robots.txt file&#39;</span>
git push origin master
</pre></div>
</code></pre>
<p>To edit existing files is the same process as adding files. But beware, as you’ll get an error if the file hasn’t actually been changed!</p>
<p>Remember, Git tracks file <em>content</em>, NOT individual files. So it wont like you wasting its time by uploading files that haven’t changed at all.</p>
<h2><a name="git-tips"class="anchor" href="#git-tips"><span class="header-link"></span></a>Git Tips</h2>
<p>Any time you need to check the status of a <code>.git</code> repository:</p>
<p><code>git status</code></p>
<p>Show all Git commands:</p>
<p><code>git</code></p>
<p>Show where Git was installed:</p>
<p><code>which git</code></p>
<p>Show all recent activity:</p>
<p><code>git log</code></p>
<p>Show all activity (all branches):</p>
<p><code>git log --all</code></p>
<p>Show all activity (all branches) in a tree view (slightly more readable):</p>
<p><code>git log --graph --all</code></p>
<p>Show all activity (all branches) in a tree view (slightly more readable) BUT only shows the bare minimum details (i.e. the first seven characters of the hash and the commit message):</p>
<p><code>git log --graph --all --online</code></p>
<p>Shows all branches for this repository: NOTE: the Terminal will display all branches available with an asterisk (*) before the branch name that is currently activated…</p>
<p><code>git branch</code></p>
<p>Create a new branch called “my_new_branch” which is a complete copy of ‘master’ for you to mess around with:</p>
<p><code>git branch my_new_branch</code></p>
<p>Switch to a different branch:</p>
<p><code>git checkout my_new_branch</code></p>
<p>*IMPORTANT! When you switch between branches, the .git file (that contains all information about your repository) will show you a different set of files in Finder! So if you switch to the new branch you just created <code>my_new_branch</code> and then added a new file to your project’s directory (e.g. mynewfile.php), then this new file will be visible in Finder while you are still viewing the <code>my_new_branch</code> branch. The moment you switch back to the <code>master</code> branch the ‘mynewfile.php’ file will disappear from view.</p>
<p>Whatever changes were made on one branch will not be visible at all from the other branches. Since Git tracks contents, this works for files and whole directories down to lines and characters.*</p>
<p>The following command means you don’t need to use ‘git add’ you can just commit all tracked files</p>
<p><code>git -a commit</code></p>
<p>Git has a GUI tool for visualisation of commits/changes:</p>
<p><code>gitk</code></p>
<p>By default it shows only the branch you are currently viewing - if you want it to show both branches at once the use <code>gitk --all</code>.</p>
<p>If I wanted to merge a new branch ‘name_of_branch’ with my master branch then I would call:</p>
<p><code>git merge name_of_branch</code></p>
<p><em>NOTE: It’s important to switch view back to the main branch you wish to merge other code with.</em></p>
<p>Show all commits to this file (and who made them):</p>
<p><code>git blame file_name</code></p>
<p>To ‘tag’ a particular commit in your projects history - this could be a version number for a script update…</p>
<p><code>git tag tag_name (e.g. git tag v0.5.6)</code></p>
<p><em>NOTE: tags must have no spaces (e.g. my_first_tag):</em></p>
<p>An annotated tag:</p>
<p><code>git tag -a tag_name</code></p>
<p>An annotated tag with a comment:</p>
<p><code>git tag -a tag_name -m &quot;my first release candidate&quot;</code></p>
<p>To push your tags you need to do the following - because git push alone wont do it (thanks to <a href="http://twitter.com/mathias">@mathias</a> for this information):</p>
<p><code>git push --tags</code></p>
<p>Show all tags in this project:</p>
<p><code>git tag</code></p>
<p>Show the last commit:</p>
<p><code>git show</code></p>
<p>Show the last commit that had this tag assigned after it (acts like a bookmark):</p>
<p><code>git show tag_name</code></p>
<p>The following command only works after looking at a tag:</p>
<p><code>git describe</code></p>
<p>*Note: it shows the name of the tag followed by how many commits have happened since its inception (as well as the first seven characters from the hash that references the commit, and the -g is not part of the hash; it’s a suffix that stands for “Git” - according to the Git documentation it “useful in an environment where people may use different SCMs”).</p>
<p>e.g. my_first_tag-1-gd8a7d27*</p>
<h2><a name="tell-git-to-ignore-certain-files-and-formats"class="anchor" href="#tell-git-to-ignore-certain-files-and-formats"><span class="header-link"></span></a>Tell Git to ignore certain files and formats</h2>
<p><code>.gitignore</code> is a file that you can create to hold rules about what items Git should ignore.</p>
<p>A good example of using .gitignore is if you wanted a config script - e.g. Settings.php - that held your database username/password ignored so it wasn’t accidentally pushed to a public repository (such as GitHub):</p>
<p>You can use a <code>#</code> as a comment line and then specify the types of files or specific files to be ignored, such as:</p>
<pre><code class="lang-ini"><div class="highlight"><pre><span class="c1">#Mac OS X files</span>
<span class="err">.DS_Store</span>

<span class="c1"># VIM leave-behinds</span>
<span class="err">*.swp</span>
</pre></div>
</code></pre>
<p>You can also ignore all files of a certain type except one by using the bang (!) such as:</p>
<pre><code class="lang-ini"><div class="highlight"><pre><span class="err">*.log</span>
<span class="err">!errors.log</span>
</pre></div>
</code></pre>
<h2><a name="best-practices-for-commit-messages"class="anchor" href="#best-practices-for-commit-messages"><span class="header-link"></span></a>Best practices for Commit Messages</h2>
<p>As requested by <a href="http://twitter.com/mathias">@Mathias</a> (on quite a few occasions…) there are a few best practices to consider when writing your commit messages.</p>
<p>One of the most obvious and useful is to split your commit message into a ‘summary’ and ‘body’ (this is done by including a blank line in-between the first and second lines of your commit message).</p>
<p>The ‘summary’ should (ideally) be no more than 50 characters. This is so that when other users are viewing your commit messages (via different means) then they can always understand what the commit is about, and then if they wish to read the full commit message (i.e. the ‘body’ part - which should include further information on the specifics of the commit) then they can do.</p>
<p>And there are quite a few places where the ‘summary’ part of your commit message would come in really helpful to other users…</p>
<p>The following bullet points are credited to <a href="http://tbaggery.com/">tbaggery.com</a>:</p>
<ul>
<li><code>git log --pretty=oneline</code> - shows a terse history mapping containing the commit id and the summary</li>
<li><code>git rebase --interactive</code> - provides the summary for each commit in the editor it invokes</li>
<li>if the config option <code>merge.summary</code> is set, the summaries from all merged commits will make their way into the merge commit message</li>
<li><code>git shortlog</code> uses summary lines in the changelog-like output it produces</li>
<li><code>git format-patch</code> git send-email, and related tools use it as the subject for emails</li>
<li>reflogs, a local history accessible with git reflog intended to help you recover from stupid mistakes, get a copy of the summary</li>
<li><code>gitk</code> has a column for the summary</li>
<li>GitHub uses the summary in various places in their user interface</li>
</ul>
<p>When writing your commit message it’s probably a good idea to write in the ‘present tense’ (e.g. ‘fix’ rather than ‘fixed’) - this is to help keep consistency between other git commands such as <code>git merge</code> | <code>git revert</code>.</p>
<p>Also, when writing the ‘body’ part of your commit message, make sure to keep the character length to 72 per line. Feel free to read up on the details of why at <a href="http://tbaggery.com/">tbaggery.com</a>, but the principle is basically that using certain git commands on certain set-ups could cause the text to overflow off the edge of the screen. The previous link also includes some tips on how to achieve this via Vim or TextMate.</p>
<h2><a name="conclusion"class="anchor" href="#conclusion"><span class="header-link"></span></a>Conclusion</h2>
<p>And that’s about it for the “Git Basics”. There is so much more that you can learn and I can’t recommend the book “Getting Good with Git” enough! Go check that out here: <a href="http://rockablepress.com/books/getting-good-with-git/"><a href="http://rockablepress.com/books/getting-good-with-git/">http://rockablepress.com/books/getting-good-with-git/</a></a>.</p>
</div>

  <div class="comments">
    <a href="/posts/how-to-use-git-and-github/#comments">
      <span class="icon-bubbles"></span>
      Comments
    </a>
  </div>

  <div class="post-head group">
  <a href="/posts/beginners-guide-on-how-to-test-your-code/">
    <h1 class="post-title">Beginners guide on how to test your code</h1>
  </a>
  <span class="post-date">2012 &#183; 1 &#183; 2</span>
</div>

<div class="post-body"><h2><a name="what-we-ll-cover"class="anchor" href="#what-we-ll-cover"><span class="header-link"></span></a>What we&#39;ll cover</h2>
<p><em>reading time: approx. 11mins</em></p>
<ul>
<li>Introduction</li>
<li>Start how you mean to go on</li>
<li>The ‘write test first’ process</li>
<li>Other aspects of TDD/BDD</li>
<li>What do these test &#39;types&#39; mean?</li>
<li>Using Jasmine</li>
<li>An example</li>
<li>Review of example</li>
<li>Conclusion</li>
</ul>
<h2><a name="introduction"class="anchor" href="#introduction"><span class="header-link"></span></a>Introduction</h2>
<p>Any programmer worth a damn will tell you that you need to test your code.</p>
<p>There are different types of tests that inspect the different areas of your application:</p>
<ul>
<li>Unit Tests</li>
<li>Integration Tests</li>
<li>Acceptance Tests</li>
<li>Regression Tests</li>
</ul>
<p>Although there are multiple areas of an application that need to be tested, the principle for each is that you write a test for a piece of your applications code and see if it passes.</p>
<p>Within a test you write a number of ‘assertions’ (which means you’re expecting certain values to be returned at that point in a certain format or type) and if the code fails to produce the relevant value the assertion will fail and thus the test itself will fail.</p>
<p>There are different methodologies for testing your code, the two most famous are Test-Driven Development (TDD) and Behaviour-Driven Development (BDD). Both are very similar and differ in &#39;direction&#39; more than anything.</p>
<p>Fundamentally TDD is about the developer and their perspective on testing a piece of code, where BDD is more about using language that management and stake holders can understand (so your tests are still written in code but uses more &#39;domain specific language&#39; - e.g. instead of <code>assertEqual(x, y)</code> you would write <code>expect(x).toEqual(y)</code>).</p>
<h2><a name="start-how-you-mean-to-go-on"class="anchor" href="#start-how-you-mean-to-go-on"><span class="header-link"></span></a>Start how you mean to go on</h2>
<p>Something else you normally hear from the TDD crowd is that you <em>should</em> write your tests first! That’s probably going to sound a bit alien to you because how can you write tests for code that doesn’t yet exist? Why would anyone do that?</p>
<p>Well, the reasoning behind it is quite logical when you think about it. Normally you’ll just start writing some code with no idea of how it should work, you just start hacking away and as you progress you go back and refactor sections and make it cleaner/more efficient and hopefully at the end you don’t need to change your code in any meaningful way to appease your users who may be using your code (e.g. if you’re building the next big JavaScript framework then your API is what your users will be relying on and if you discover there is a bug in your code and it means you have to go back and change the API because of it then that causes big concerns for your users).</p>
<p>So the idea of writing tests first is that you’re thinking about your API from the beginning. You’ll think about what the perfect API is for your code to produce and you’ll ensure you write code that fits that API (you won’t realise halfway through coding “ah crap, this doesn’t work as well as I had hoped it would, I’m going to have to change this”).</p>
<p>Although we’re not worrying about “writing tests first” in this article, I mention it so you are at least aware of the process.</p>
<h2><a name="the-write-test-first-process"class="anchor" href="#the-write-test-first-process"><span class="header-link"></span></a>The ‘write test first’ process</h2>
<p>For those interested it goes a little like this:</p>
<ul>
<li>Write a unit-test</li>
<li>Run the test (it will obviously fail because there is no code for it to run against!)</li>
<li>Write the smallest amount of code for the unit-test to pass (we’re talking quick and dirty code here)</li>
<li>Run the test again and watch it pass</li>
<li>Once the test passes, go back and refactor your code so it’s how it should be (i.e. clean/efficient)</li>
<li>Run the test again and watch it pass</li>
</ul>
<h2><a name="other-aspects-of-tdd-bdd"class="anchor" href="#other-aspects-of-tdd-bdd"><span class="header-link"></span></a>Other aspects of TDD/BDD</h2>
<p>Here are a few other aspects of testing worth mentioning before we get stuck into some examples: methods such as ‘setUp’ and ‘tearDown’ (which run before and after each test) are useful (for example…) because it means you can prepare each test to run from a fresh set-up.  This probably doesn’t make a lot of sense at the moment so I’ll demonstrate this later in our example code below, but trust me, when you’re testing your code it’s useful before each test (or after each test) to reset your environment.</p>
<p>There are also more complicated aspects such as mocks, stubs and spies which are useful when you start getting deep into testing application code where ‘state’ becomes relevant (e.g. using some of these features makes testing code in the deepest parts of your application a lot easier).</p>
<p>So with all this in mind, I would highly recommend you go and read a book titled ‘Test-Driven JavaScript Development’ by Christian Johansen (<a href="http://twitter.com/cjno">@cjno</a>) which covers all these topics in great detail.</p>
<h2><a name="what-do-these-test-types-mean-"class="anchor" href="#what-do-these-test-types-mean-"><span class="header-link"></span></a>What do these test &#39;types&#39; mean?</h2>
<h3><a name="unit-tests"class="anchor" href="#unit-tests"><span class="header-link"></span></a>Unit Tests</h3>
<p>These are very atomic (i.e. small) tests that test a specific chunk of code.</p>
<h3><a name="integration-tests"class="anchor" href="#integration-tests"><span class="header-link"></span></a>Integration Tests</h3>
<p>These are tests that ensure all the separate parts of your application code work when interacting with each other.</p>
<h3><a name="acceptance-tests"class="anchor" href="#acceptance-tests"><span class="header-link"></span></a>Acceptance Tests</h3>
<p>These are tests that prove to management or your stake holders that the application is providing all the functionality they require (typically acceptance tests are written using BDD which uses domain specific language that makes it easy for management to write tests for the developer to implement).</p>
<h3><a name="regression-tests"class="anchor" href="#regression-tests"><span class="header-link"></span></a>Regression Tests</h3>
<p>This is the process of running your unit tests again after fixing any integration tests to make sure your fixes haven&#39;t caused your unit tests to break.</p>
<h2><a name="using-jasmine"class="anchor" href="#using-jasmine"><span class="header-link"></span></a>Using Jasmine</h2>
<p>For the purpose of this article we&#39;re going to focus on unit testing but we&#39;re going to use a BDD library called Jasmine to help run our tests. You can download it from here: <a href="http://pivotal.github.com/jasmine/"><a href="http://pivotal.github.com/jasmine/">http://pivotal.github.com/jasmine/</a></a></p>
<p>The set-up is as follows:</p>
<ul>
<li>Create an HTML page</li>
<li>In this page insert the provided css file ‘jasmine.css’ + the two provided js files ‘jasmine.js’, ‘jasmine-html.js’</li>
<li>Then include your own JavaScript code ‘my-cool-library.js’</li>
<li>Then include your own ‘my-tests.js’</li>
<li>After that have an inline script which executes the Jasmine test runner…<pre><code class="lang-html"><div class="highlight"><pre>jasmine.getEnv().addReporter(new jasmine.TrivialReporter());
jasmine.getEnv().execute();
</pre></div>
</code></pre>
</li>
</ul>
<p>Within your own ‘my-tests.js’ file is where you’ll write your unit-tests.</p>
<p>Different unit-testing libraries have different API’s. Jasmine’s API is as follows…</p>
<pre><code class="lang-js"><div class="highlight"><pre><span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;test suite name&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="c1">// assertions for your code to try and pass</span>
    <span class="c1">// if any assertions fail then this entire suite fails</span>
<span class="p">});</span>
</pre></div>
</code></pre>
<h2><a name="an-example"class="anchor" href="#an-example"><span class="header-link"></span></a>An example</h2>
<p>So now imagine your ‘my-cool-library.js’ consisted of an object whose API let the user add/remove or check for CSS classes on an element. Lets say the API was as follows…</p>
<pre><code class="lang-js"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">header</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;my-header&#39;</span><span class="p">);</span>
<span class="nx">css</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">header</span><span class="p">,</span> <span class="s1">&#39;newclass&#39;</span><span class="p">)</span> <span class="c1">// --&gt; adds the class &#39;newclass&#39; to the specified element &#39;header&#39;</span>
<span class="nx">css</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="nx">header</span><span class="p">,</span> <span class="s1">&#39;newclass&#39;</span><span class="p">)</span> <span class="c1">// --&gt; returns a boolean value (true/false) depending on whether the class &#39;newclass&#39; is found</span>
<span class="nx">css</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="nx">header</span><span class="p">,</span> <span class="s1">&#39;newclass&#39;</span><span class="p">)</span> <span class="c1">// --&gt; removes the class &#39;newclass&#39; from the specified element &#39;header&#39;</span>
<span class="nx">css</span><span class="p">.</span><span class="nx">classes</span><span class="p">(</span><span class="nx">header</span><span class="p">)</span> <span class="c1">// --&gt; returns an Array of classes found on this element</span>
</pre></div>
</code></pre>
<p>Your test suite for this code could look something like (don’t worry, we’ll discuss after)…</p>
<pre><code class="lang-js"><div class="highlight"><pre><span class="c1">// Test Suite</span>
<span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;CSS tests&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="nx">header</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;my-header&#39;</span><span class="p">);</span>

    <span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Reset the className before each spec is run</span>
        <span class="nx">header</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">&#39;myclassa myclassb&#39;</span><span class="p">;</span>
    <span class="p">});</span>

    <span class="c1">// Spec</span>
    <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should return an Array of class names&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">css</span><span class="p">.</span><span class="nx">classes</span><span class="p">(</span><span class="nx">header</span><span class="p">)).</span><span class="nx">toEqual</span><span class="p">([</span><span class="s1">&#39;myclassa&#39;</span><span class="p">,</span> <span class="s1">&#39;myclassb&#39;</span><span class="p">]);</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">css</span><span class="p">.</span><span class="nx">classes</span><span class="p">(</span><span class="nx">header</span><span class="p">).</span><span class="nx">length</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="c1">// Spec</span>
    <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should add class to element&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">css</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">header</span><span class="p">,</span> <span class="s1">&#39;newclass&#39;</span><span class="p">);</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">header</span><span class="p">.</span><span class="nx">className</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">&#39;myclassa myclassb newclass&#39;</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="c1">// Spec</span>
    <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should return a boolean for whether the class is on the given element&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">css</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="nx">header</span><span class="p">,</span> <span class="s1">&#39;myclassa&#39;</span><span class="p">)).</span><span class="nx">toBeTruthy</span><span class="p">();</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">css</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="nx">header</span><span class="p">,</span> <span class="s1">&#39;newclass&#39;</span><span class="p">)).</span><span class="nx">toBeFalsy</span><span class="p">();</span> <span class="c1">// although in the previous spec we added &#39;newclass&#39; to the element, in this spec this assertion should return false because the beforeEach method above has reset the class list back to &#39;myclassa myclassb&#39;</span>
    <span class="p">});</span>

    <span class="c1">// Spec</span>
    <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should remove class from element&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">css</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="nx">header</span><span class="p">,</span> <span class="s1">&#39;myclassb&#39;</span><span class="p">);</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">header</span><span class="p">.</span><span class="nx">className</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">&#39;myclassa&#39;</span><span class="p">);</span>
    <span class="p">});</span>

<span class="p">});</span>
</pre></div>
</code></pre>
<p>…so a few things you’ll notice:</p>
<ul>
<li>We’ve grouped all our tests related to the CSS part of our code using Jasmine’s <pre><code><div class="highlight"><pre>  <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;test suite name&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span> <span class="cm">/* tests */</span> <span class="p">});</span>
</pre></div>
</code></pre>
</li>
<li>We’re using a setUp method (which Jasmine calls <code>beforeEach</code>) to run some code to reset the class names before each test run (so we start from a clean slate for each test) - there is also a corresponding tearDown method which Jasmine calls <code>afterEach</code> (see documentation)</li>
<li>Each test is represented by <code>it(&#39;expectation of this test&#39;, function(){ /* assertions */ });</code></li>
<li>The assertions are handled by Jasmine’s <code>expect(expressions).matcher</code></li>
</ul>
<p>The assertions method <code>expect</code> takes an expression (e.g. some code to execute) and then the result of that code is passed to the <em>matcher</em>. Our tests consisted of a few matchers such as:</p>
<ul>
<li><code>toEqual()</code></li>
<li><code>toBe()</code></li>
<li><code>toBeTruthy()</code></li>
<li><code>toBeFalsey()</code></li>
</ul>
<p>Jasmine has a few more matchers which you can read more about in the documentation: <a href="https://github.com/pivotal/jasmine/wiki/Matchers"><a href="https://github.com/pivotal/jasmine/wiki/Matchers">https://github.com/pivotal/jasmine/wiki/Matchers</a></a></p>
<p>You can even create your own matchers…</p>
<pre><code class="lang-js"><div class="highlight"><pre><span class="c1">// Add our two new matchers. One to check if an object is an Array and the other to check if the result is a Number</span>
<span class="c1">// You create these within the beforeEach method which is executed before each test is run</span>
<span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">addMatchers</span><span class="p">({</span>
        <span class="nx">toBeArray</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">expected</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">);</span> <span class="o">===</span> <span class="s1">&#39;[object Array]&#39;</span> <span class="o">?</span> <span class="kc">true</span> <span class="o">:</span> <span class="kc">false</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">});</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">addMatchers</span><span class="p">({</span>
        <span class="nx">toBeNumber</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">expected</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="sr">/\d+/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</code></pre>
<h2><a name="review-of-example"class="anchor" href="#review-of-example"><span class="header-link"></span></a>Review of example</h2>
<p>We’ll look at one of the example tests and explain what’s happening so you get an idea of how Jasmine works, then from there you should be at least good to go in getting up and running and playing around with it yourself.</p>
<p>I’ve set-up an example of the code found in this post on Github: <a href="https://github.com/Integralist/Unit-testing-with-Jasmine-BDD"><a href="https://github.com/Integralist/Unit-testing-with-Jasmine-BDD">https://github.com/Integralist/Unit-testing-with-Jasmine-BDD</a></a> (which should also help you getting started)</p>
<p>So lets look at one of the tests…</p>
<pre><code class="lang-js"><div class="highlight"><pre><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should add class to element&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">css</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">header</span><span class="p">,</span> <span class="s1">&#39;newclass&#39;</span><span class="p">);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">header</span><span class="p">.</span><span class="nx">className</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">&#39;myclassa myclassb newclass&#39;</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</code></pre>
<p>…as you can see the test starts by describing what is expected of it. In this case it should add a class to the specified element.</p>
<p>Within the execution of the test itself we can see that we’re executing the <code>css.add()</code> method and telling it to add the class <code>newclass</code> to the element <code>header</code> (which as you can see in the full code above was an element with an id of <code>my-header</code> stored in the variable <code>header</code>).</p>
<p>After that code has executed we’re expecting the header element’s className value to be <code>myclassa myclassb newclass</code>.</p>
<p>If we were to run the test-runner.html file we should see all tests pass (this is demonstrated by the green bar and the message of <code>4 specs, 0 failure</code>).</p>
<p>To see the test suite fail then just amend one of the tests slightly to cause it to fail. For example in the above example we looked at change it to: <code>toBe(‘x myclassa myclassb newclass’)</code> and this will cause the test to fail because obviously the list of class names on the header element is not going to include the class name ‘x’ at the start.</p>
<p>Now when you run the test-runner.html file (remembering that now one of the tests will fail) you’ll see that instead of a nice clean green bar to highlight success you see a red bar and a drill down into the issue. If you do as I suggested above to cause the test to fail you’ll notice now Jasmine highlights exactly what the problem is to you…</p>
<p><a href="http://cl.ly/1z3b1g3U1z0e2r2U2c2H">See screenshot image</a></p>
<pre><code class="lang-sh"><div class="highlight"><pre>4 specs, 1 failure in 0.014s
&gt; CSS tests <span class="o">(</span>this is the name of the <span class="nb">test </span>suite that failed - as you could have multiple suites running this helps narrow it down<span class="o">)</span>
&gt;&gt; should add class to element <span class="o">(</span>this tells you the exact <span class="nb">test </span>that fails<span class="o">)</span>
&gt;&gt;&gt; Expected <span class="s1">&#39;myclassa myclassb newclass&#39;</span> to be <span class="s1">&#39;x myclassa myclassb newclass&#39;</span>. <span class="o">(</span>this tells you what the result actually was followed by what the <span class="nb">test </span>was expecting - so you can see where the result went wrong<span class="o">)</span>
&gt;&gt;&gt;&gt; <span class="o">(</span>after this you get a stack trace of what was executed so you can see specifics of where the error occurred<span class="o">)</span>
</pre></div>
</code></pre>
<h2><a name="conclusion"class="anchor" href="#conclusion"><span class="header-link"></span></a>Conclusion</h2>
<p>Hopefully this has given you a taster for how easy it is to get started writing unit-tests for your code (even if you don’t take the “write tests first” approach).</p>
<p>There are many good unit-testing libraries available today and they each have their pros/cons as far as the API is concerned and the features they offer.</p>
<p>I personally prefer Jasmine because I love the simplicity of the terminology and API and the flexibility I have to include my own matchers.</p>
<p>There are also libraries that focus on the more on specific parts of the testing process such as ‘mocks’, ‘stubs’ and ‘spies’ (see Sinon.js <a href="http://sinonjs.org/"><a href="http://sinonjs.org/">http://sinonjs.org/</a></a>).</p>
</div>

  <div class="comments">
    <a href="/posts/beginners-guide-on-how-to-test-your-code/#comments">
      <span class="icon-bubbles"></span>
      Comments
    </a>
  </div>


<div class="pagination group">
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
      <a href="/page/13/" class="newer"> Newer &#8594;</a>
    
  
    
    
  
    
    
      <a href="/page/15/" class="older"> &#8592; Older</a>
    
  
    
    
  
</div>
    </div>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js" type="text/javascript"></script>
    <script src="/scripts/main.js" type="text/javascript"></script>
    <script src="/scripts/Imager.js" type="text/javascript"></script>
    <script>
        var _gaq=[['_setAccount','UA-33159515-1'],['_trackPageview']];
        (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
        g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
        s.parentNode.insertBefore(g,s)}(document,'script'));
    </script>
  </body>
</html>

