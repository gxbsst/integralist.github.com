<!doctype html>
<!--[if IE 8]><html class="ie8" dir="ltr" lang="en"><![endif]-->
<!--[if IE 9]><html class="ie9" dir="ltr" lang="en"><![endif]-->
<!--[if gt IE 9]><!--> <html dir="ltr" lang="en"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="author" content="Mark McDonnell" />
        <title> Node.js as a tool | Integralist</title>
        <!--[if lt IE 9]>
        <script src="/Assets/Scripts/html5.js"></script>
        <![endif]-->
        <link rel="stylesheet" href="/Assets/Styles/layout.css"     media="all">
        <link rel="stylesheet" href="/Assets/Styles/layout-480.css" media="only screen and (min-width: 30em)">
        <link rel="stylesheet" href="/Assets/Styles/layout-768.css" media="only screen and (min-width: 40em)">
        <!--[if (lt IE 9) & (!IEMobile)]>
        <link rel="stylesheet" href="/Assets/Styles/layout-480.css">
        <link rel="stylesheet" href="/Assets/Styles/layout-768.css">
        <![endif]-->
    </head>
    <body>
        <header class="header container outline">
            <p class="header__title"><a href="/" class="header__homelink">integralist</a></p>
            <p class="header__strapline">BBC News Engineer: Object-Oriented Design principles using Ruby, PHP, BEM, AMD</p>
            <a href="#info" class="header__moreinfo">More info about me&hellip;</a>
        </header>
        <section class="container outline">
            <h1>Node.js as a tool</h1>
<div class="article__content">
    <p>NodeJs is best known for running server-side JavaScript, but it can also be used for other processes that run on your local machine: See: <a href="http://blog.millermedeiros.com/node-js-as-a-build-script/">Node.js as a build script</a> (by <a href="https://github.com/millermedeiros/">@millermedeiros</a>) for lots of examples of this.</p>

<p>With the help of <a href="http://mxcl.github.com/homebrew/">Homebrew</a> (yes I know I'm only catering for Mac users here - what a scum bag I am - but the principles are the same I'm just using <code>Homebrew</code> to get these packages installed) the items we'll cover are:</p>

<ul>
<li>CSSLint</li>
<li>JsHint</li>
<li>RequireJS/r.js</li>
<li>gh-markdown-cli</li>
</ul>


<h2>Prerequisite</h2>

<p>I have to assume you've already got Homebrewm, Node and NPM installed? If not then open up your terminal/command line tool of choice and follow these steps:</p>

<ol>
<li><p>Install Homebrew by executing this command:<br/>
 <code>/usr/bin/ruby -e "$(curl -fsSL https://raw.github.com/gist/323731)"</code></p></li>
<li><p>Install Node by executing this command:<br/>
 <code>brew install node</code></p></li>
<li><p>Install NPM by executing this command:<br/>
 <code>curl http://npmjs.org/install.sh | sh</code></p></li>
</ol>


<p>After that you should be able to execute <code>brew --version</code>, <code>node --version</code> and <code>npm --version</code> and get version numbers back to show that they've installed.</p>

<h2>CSSLint</h2>

<p>"<em>Automated linting of Cascading Stylesheets</em>"</p>

<p><a href="https://github.com/stubbornella/csslint">https://github.com/stubbornella/csslint</a></p>

<p><strong>Installation</strong>:<br/>
<code>npm install -g csslint</code></p>

<p><strong>Example usage:</strong></p>

<pre><code>csslint [options] [file|dir]*
csslint file1.css file2.css  
csslint ./  
csslint --errors=box-model,ids test.css // =&gt; decide what should be errors  
csslint --warnings=box-model,ids test.css // =&gt; decide what should be warnings
</code></pre>

<p><strong>Configuration:</strong><br/>
You can view the options by running <code>csslint --help</code><br/>
All 'rules' can be viewed using: <code>csslint --list-rules</code><br/>
The rules have #ID's that you can specify as errors|warnings</p>

<p><strong>Generic usage:</strong><br/>
<code>csslint --errors=import,compatible-vendor-prefixes,display-property-grouping,overqualified-elements,fallback-colors,duplicate-properties,empty-rules,gradients,universal-selector,vendor-prefix,zero-units --warnings=important,known-properties,font-sizes,outline-none,shorthand,unqualified-attributes</code></p>

<p><strong>Prettier Syntax:</strong><br/>
It's recommended to create a shell script to wrap the CSS Lint functionality so you can use the same syntax as the Node.js CLI.</p>

<p>For Linux/Mac, create a file named <code>csslint</code> and add the following to the file:</p>

<pre><code>#!/bin/bash
java -jar js.jar csslint-rhino.js $@
</code></pre>

<p>After creating the file, you need to ensure it can be executed, so go to the command line and type:<br/>
<code>chmod +x csslint</code></p>

<h2>JsHint</h2>

<p>"<em>CLI and NPM package for JSHint</em>"</p>

<p><a href="https://github.com/jshint/node-jshint">https://github.com/jshint/node-jshint</a></p>

<p><strong>Installation:</strong><br/>
npm install jshint</p>

<p><strong>Example usage:</strong></p>

<pre><code>jshint path path2 [options] // =&gt; run against specific scripts
jshint *.js // =&gt; run against all scripts
jshint main.js --show-non-errors // =&gt; show non-errors (e.g. Implied globals etc)
jshint main.js --config ./Lint/config.json // =&gt; use specific configuration options
jshint main.js --show-non-errors --config ./Lint/config.json // =&gt; example of showing non-errors against specific configuration settings
</code></pre>

<p>If you get no errors then that means the script ran fine</p>

<p><strong>Generic usage:</strong><br/>
<code>jshint **/*.js --config ./Lint/config.json</code></p>

<p><strong>Configuration:</strong><br/>
Your <code>config.json</code> file could look like the followingâ€¦</p>

<pre><code>{
    // Settings
    "passfail"      : false,  // Stop on first error.
    "maxerr"        : 200,    // Maximum error before stopping.


    // Predefined globals whom JSHint will ignore.
    "browser"       : true,   // Standard browser globals e.g. `window`, `document`.

    "node"          : false,
    "rhino"         : false,
    "couch"         : false,
    "wsh"           : false,   // Windows Scripting Host.

    "jquery"        : true,
    "prototypejs"   : false,
    "mootools"      : false,
    "dojo"          : false,

    "predef"        : [  // Custom globals.
        // this is because we use require() from RequireJS library
        "require",
        "define",

        // this is because we use Jasmine BDD for unit-testing
        "jasmine",
        "describe",
        "beforeEach",
        "afterEach",
        "it",
        "expect"
    ],


    // Development.
    "debug"         : false,  // Allow debugger statements e.g. browser breakpoints.
    "devel"         : false,  // Allow developments statements e.g. `console.log();`.


    // ECMAScript 5.
    "es5"           : true,   // Allow ECMAScript 5 syntax.
    "strict"        : false,  // Require `use strict` pragma  in every file.
    "globalstrict"  : false,  // Allow global "use strict" (also enables 'strict').


    // The Good Parts.
    "asi"           : false,  // Tolerate Automatic Semicolon Insertion (no semicolons).
    "laxbreak"      : true,   // Tolerate unsafe line breaks e.g. `return [\n] x` without semicolons.
    "bitwise"       : true,   // Prohibit bitwise operators (&amp;, |, ^, etc.).
    "boss"          : true,   // Tolerate assignments inside if, for &amp; while. Usually conditions &amp; loops are for comparison, not assignments.
    "curly"         : true,   // Require {} for every new block or scope.
    "eqeqeq"        : true,   // Require triple equals i.e. `===`.
    "eqnull"        : false,  // Tolerate use of `== null`.
    "evil"          : false,  // Tolerate use of `eval`.
    "expr"          : false,  // Tolerate `ExpressionStatement` as Programs.
    "forin"         : false,  // Tolerate `for in` loops without `hasOwnPrototype`.
    "immed"         : true,   // Require immediate invocations to be wrapped in parens e.g. `( function(){}() );`
    "latedef"       : true,   // Prohipit variable use before definition.
    "loopfunc"      : false,  // Allow functions to be defined within loops.
    "noarg"         : true,   // Prohibit use of `arguments.caller` and `arguments.callee`.
    "regexp"        : false,  // Prohibit `.` and `[^...]` in regular expressions.
    "regexdash"     : false,  // Tolerate unescaped last dash i.e. `[-...]`.
    "scripturl"     : true,   // Tolerate script-targeted URLs.
    "shadow"        : true,   // Allows re-define variables later in code e.g. `var x=1; x=2;`.
    "supernew"      : false,  // Tolerate `new function () { ... };` and `new Object;`.
    "undef"         : true,   // Require all non-global variables be declared before they are used.


    // Personal styling preferences.
    "newcap"        : true,   // Require capitalization of all constructor functions e.g. `new F()`.
    "noempty"       : true,   // Prohibit use of empty blocks.
    "nonew"         : true,   // Prohibit use of constructors for side-effects.
    "nomen"         : true,   // Prohibit use of initial or trailing underbars in names.
    "onevar"        : false,  // Allow only one `var` statement per function.
    "plusplus"      : false,  // Prohibit use of `++` &amp; `--`.
    "sub"           : false,  // Tolerate all forms of subscript notation besides dot notation e.g. `dict['key']` instead of `dict.key`.
    "trailing"      : false,  // Prohibit trailing whitespaces.
    "white"         : true,   // Check against strict whitespace and indentation rules.
    "indent"        : 4,      // Specify indentation spacing
    "smarttabs"     : true    // Suppress warnings about mixed tabs and spaces
}
</code></pre>

<h2>RequireJS/r.js</h2>

<p>"<em>Runs RequireJS in Node and used to run the RequireJS optimizer</em>"</p>

<p><a href="https://github.com/jrburke/r.js">https://github.com/jrburke/r.js</a></p>

<p><strong>Generic usage:</strong><br/>
<code>node r.js -o app.build.js</code></p>

<p><strong>Configuration:</strong><br/>
You create a 'build' script file (see below for an example) and then you use NodeJs to execute the <code>r.js</code> optimization script and pass through your build script as an argument</p>

<pre><code>/*
 * http://requirejs.org/docs/optimization.html
 *
 * See: https://github.com/jrburke/r.js/blob/master/build/example.build.js for an example build script
 *
 * If you specify just the name (with no includes/excludes) then all modules are combined into the "main" file.
 * You can include/exclude specific modules though if needed (this helps with 'lazy loading' scripts)
 *
 * You can also set optimize: "none" (or more specific uglifyjs settings) if you need to.
 *
 * Node: if you set relative paths then do them relative to the baseUrl
 */
({  
    appDir: '../../../',
    baseUrl: 'Assets/Scripts',
    dir: '../../../project-build',
    /*
     * The below 'paths' object is useful for when using plugins/named module paths.
     * If you use plugins or named modules in your code then don't forget to specify the same paths again in your build script.
     * Otherwise your build script wont be able to find your plugins/named modules and will generate an error when building.
     */
    paths: {
        async: 'Plugins/async',
        jquery: 'Utils/jquery',
        tpl: 'Plugins/tpl'
    },
    optimize: 'none',
    modules: [
        {
            name: 'main'
            /*
            include: ['module'],
            exclude: ['module']
            */
        }
    ]
})
</code></pre>

<h2>gh-markdown-cli</h2>

<p>"<em>Node.js command-line tool to batch convert Markdown files into HTML</em>"</p>

<p><a href="https://github.com/millermedeiros/gh-markdown-cli">https://github.com/millermedeiros/gh-markdown-cli</a></p>

<p><strong>Installation:</strong><br/>
<code>sudo npm install gh-markdown-cli -g</code></p>

<p><strong>Example usage (cd into directory where your md files are):</strong><br/>
<code>mdown -o "./" --include "*.md" --header "header.html" --footer "footer.html"</code></p>

<p>Once installed, use the terminal to locate your .md files and then run the above command (you don't have to use the --header and --footer flags as these are optional)</p>

</div>

        </section>
        <section class="info container outline" id="info">
            <section class="info__section">
                <h3 class="info__title">Links</h3>
                <ul class="info__list">
                    <li><a href="http://www.github.com/integralist" target="_blank">GitHub</a></li>
                    <li><a href="http://www.twitter.com/integralist" target="_blank">Twitter</a></li>
                    <li><a href="http://integralist.co.uk/Resume/" target="_blank">Resume</a></li>
                </ul>
            </section>
            <section class="info__section">
                <h3 class="info__title">Skills</h3>
                <ul class="info__list">
                    <li>Practical Code Design and Architecture</li>
                    <li>Object-Oriented/Scalable CSS</li>
                    <li>Semantic/Efficient HTML</li>
                    <li>Modular JavaScript</li>
                </ul>
            </section>
            <section class="info__section">
                <h3 class="info__title">Enjoys</h3>
                <ul class="info__list">
                    <li>Gracie Jiu-Jitsu</li>
                    <li>Programming</li>
                    <li>Integral Theory</li>
                </ul>
            </section>
            <section class="info__section">
                <h3 class="info__title">Listens</h3>
                <ul class="info__list">
                    <li>LTJ Bukem</li>
                    <li>Clutch</li>
                    <li>Tool</li>
                    <li>Meshuggah</li>
                    <li>Russian Circles</li>
                    <li>Earthtone9</li>
                    <li>Will Haven</li>
                    <li>ISIS</li>
                </ul>
            </section>
        </section>
    </body>
</html>
