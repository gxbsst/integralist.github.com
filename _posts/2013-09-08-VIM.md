---
layout: article
title: A guide to getting started with VIM
strapline: I explain how you can get started using VIM as your main editor and development environment
---

## What we'll cover *reading time: approx. 15mins*

- Introduction
- Overview
- Installation
- TMUX
- TMUXinator
- Vundle
	- Set-up some bundles
	- Where can I find bundles?
- NERDTree
- Ctrl+P
- VIM Basics
- VIM Configuration
- Conclusion

## Introduction

In the web development community there are few topics that can cause true uproar and dissent like "spaces vs tabs" or "what editor do you use for programming?". 

The latter is the focus of this post.

My own timeline of editors has gone something like…

- Homesite
- DreamWeaver
- NetBeans
- Aptana
- Coda
- Chocolat
- Sublime Text

…and that's not including some of the real *random* editors that have cropped up over the years.

The one consistent thing I've noticed though is the reduction of basic interaction features, and the increase in more simplified (but yet advanced) short-cut features.

By that I mean, we're seeing most users becoming more comfortable moving from using a mouse to utilising keyboard shortcuts. 

So for example, in your editor of choice you would of had a tree of files on your system and you may have used your mouse to find a file in the list and then double clicked on the file to open it in your editor. But that would have meant clicking on folders in the list, drilling down until you found the file you were after. If it was buried 4 or more levels down (or you went down the wrong path) then you'd find yourself clicking around quite a bit to find a single file to open.

Compare that to using a short-cut on the keyboard which lets you do a 'fuzzy' search instead (a 'fuzzy' search basically means you type in a few characters of what you're looking for and the software returns a list of files it thinks you might be after). This means you don't need to know the exact location of the file, just a rough idea of what it was called or the name of a folder it might be stored under.

A lot of editors have a feature like this nowadays (Sublime Text is one such popular example).

The problem with all these editors is that there is no real longevity to them. 

For example, the current hotness (as of 2013) is to use Sublime Text (a nice editor with good keyboard based features but also allows users to interact with it using a mouse). But what happens when Sublime Text goes out of business, or gets bought out by a competitor and then the code base is dumped? 

Where do you developers go next? 

Well, there is an editor that has been around for a *very* long time and is available everywhere (and in most cases is installed by default). 

That editor is [VI](http://en.wikipedia.org/wiki/Vi) and it was originally created back in 1976!

Since then there has been improvements to the editor which nowadays (~1981 onwards) is more commonly known as VIM (meaning: VI Improved) and you can find more information on VIM at its website [http://www.vim.org/](http://www.vim.org/).

## Overview

OK, so the problem with VIM is that it although it's a great program to use it unfortunately has a *very* steep learning curve which normally puts off beginners.

Also VIM by itself isn't as useful as it could be, there are a number of tools available that help make it more usable as a developer environment and that trips up a lot of new users as well.

So, the key to using VIM as a developer tool is:

- Get a nice clean command line shell
- Get ourselves a set of primary plugins installed first
- Then focus on basic VIM commandd

…that's effectively what we're going to aim for in this post.

I want to get the primary tools set-up first, show you those BEFORE we get ourselves bogged down with VIM commands.

## Installation

I'm not going to cover the installation of VIM because chances are it's already installed. Also, I'm running a Mac and so this tutorial is aimed at that environment (i.e. your mileage may vary).

But here are the things we're going to install…

- Pure Zsh
- TMUX
- Vundle
- NERDTree
- Ctrl+p

…now there are a million plugins and other things you could install but the above are the fundamental ones that you'll require (you might decide that's all you need, I'll leave it up to you to decide).

## Zsh

To use VIM we'll need to use a terminal. So let's get that open now.

The default terminal shell for the GNU operating system, Linux and Mac OS X is 'Bash' but we want to use 'Zsh' instead. 

I won't delve into the reasons why but effectively Zsh is a more modern and efficient shell.

To see what shells are available you can run the command `cat /etc/shells` (hopefully you'll see `/bin/zsh` in the list).

To change shells run the command `chsh -s /bin/zsh`.

Terminal shells can be configured using (what's typically referred to as) a 'dot file'. These are files that are prefixed with a period character and so are hidden from standard users.

To see the hidden files in a directory run the command `ls -la`.

For Zsh there should be a `.zshrc` file in your home directory (if there isn't then create one as we'll need it shortly). You can do this very simply using the command `touch .zshrc`.

As we'll be using VIM there should also be in the home directory a `.vimrc` file for configuring VIM. If there isn't then create one (again, we'll be needing it shortly).

## Pure Zsh

Now that we have Zsh running let's make it look a bit nicer by using 'Pure Zsh'. I'm going to let the author have the pleasure of describing it… 

> Most prompts are cluttered, ugly and slow. I wanted something visually pleasing that stayed out of my way. Pretty, minimal and fast.

So let's get it installed. Go to [https://github.com/sindresorhus/pure](https://github.com/sindresorhus/pure) and download the file `pure.zsh` to your home directory (or wherever you want, just remember where you save it).

In your `.zshrc` import the `pure.zsh` file by adding the following line: `. /path/to/pure.zsh`

## TMUX

So what is tmux? The authors describe it as… 

> It lets you switch easily between several programs in one terminal, detach them (they keep running in the background) and reattach them to a different terminal. And do a lot more.

OK, so there are a couple of ways to install [TMUX](http://tmux.sourceforge.net/) the easiest is with [Homebrew](http://brew.sh/): `brew install tmux`

Once you have tmux installed you can start it by simply running the command `tmux` in your terminal. 

You may wonder if anything has actually happened because tmux doesn't look any different, but what you don't realise is that you now have quite a few new keyboard shortcuts you can use to split your terminal into 'panes', 'windows' or 'tabs'.

We won't go into the details yet on how to do that because first we're going to set-up an associated tool called '[tmuxinator](https://github.com/aziz/tmuxinator)' which helps us manage complex tmux sessions.

## TMUXinator

Basically, rather than you opening up the terminal and manually creating a set of panes and windows we can store the details of them as a 'default' set-up in a text file instead.

First thing to do is to install it. Sorry but we need more technologies, this time it's Ruby. We need to run the command `gem install tmuxinator`.

Depending on your set-up Ruby might install the tmuxinator gem globally or it may install it locally to the directory you're currently in (it comes down to how you have Ruby installed but I won't go into that here).

Once installed we can run the command `tmuxinator new [project]`. You can call your project whatever you like (I went with `tmuxinator new work`).

Running this command is going to create a dot file `.tmux.conf` and also a folder called `.tmuxinator` which holds a `project.yml` (where the name of the file matches the name of the project).

If you open the yaml file you'll see it has a basic example set-up ready for you to configure… 

{% highlight yaml %}
    name: test-project
    root: ~/Code/news

    windows:
      - editor:
          layout: main-vertical
          panes:
            - vim
            - git status
            - cd path/to/my/cheatsheet && vim cheat-sheet.txt
      - sandbox: cd workspace && vagrant ssh
      - sass: cd workspace && grunt watch:service:news
{% endhighlight %}

…above is an example of my `work.yml`.

You can see I have three tabs created:

- editor
- sandbox
- sass

Within the first tab `editor` I have a specific layout used called `main-vertical` (tmux comes with many different pre-built layouts). The layout I'm using splits the screen into two columns. In the left column I have `vim` running and in the right column I have two rows. The top row checks the status of my git repository, and the bottom row opens up a VIM cheat sheet  so I have it to hand (because I still have lots to learn).

In the second tab `sandbox` we are connected to our local development sandbox (via ssh).

In the third tab `sass` we are running Sass on our development files.

### Starting tmuxinator

To use our default set-up in future we just run `tmuxinator start project` (or in my case `tmuxinator start work`).

### Closing tmuxinator

Chances are you'll just leave the tmux session open, but if you want a quick way to close it then just run `Ctrl+a d`

## Vundle

This is a plug-in manager for VIM.

To install Vundle run `git clone https://github.com/gmarik/vundle.git ~/.vim/bundle/vundle`

Now you have it installed, you can add plug-ins to your `.vimrc` file and install them by running a command from within VIM.

### Set-up some bundles

We're jumping ahead a little bit but let's open our `.vimrc` and add some plug-ins we're going to need… 

{% highlight bash %}
		set rtp+=$HOME/.vim/bundle/vundle
		call vundle#rc()
		Bundle 'gmarik/vundle'
		filetype plugin indent on

		" ALL OF THE ABOVE IS REQUIRED
		" THE FOLLOWING IS NEW FOR US…

		Bundle 'kien/ctrlp.vim'
		Bundle 'vim-scripts/The-NERD-tree'
{% endhighlight %}

…so you may have noticed we've specified two plug-ins:

1. NERDTree
2. Ctrl+p

To actually get these installed then open VIM by running `vim` and then running the command `:BundleInstall` from within VIM (it might not be very obvious but you can run commands from within VIM so for now when VIM is open just press ESC and then type `:BundleInstall` followed by pressing ENTER)

### Where can I find bundles?

Bundles are just pointers to VIM scripts.

The two bundles we've pointed to are references to their GitHub repositories.

But you can also point to non-github repos, local git repos, or direct to VIM scripts.

## NERDTree

NERDTree is a tree explorer plugin for navigating the filesystem. This is the closest thing you're going to get to a standard editor feature.

We'll cover how to use it in the following VIM Basics section.

## Ctrl+p

This is a fuzzy file finder so it makes it easy for you to locate files within your project by just typing a couple of characters of the files name.

Again, we'll cover how to use it in the following VIM Basics section.

## VIM Basics

VIM is all about not using the mouse, just the keyboard. 

VIM has 3 modes:

1. NORMAL (you run majority of your commands from this mode)
2. INSERT (you spend the least amount of time in this mode)
3. VISUAL (you select text in this mode)

To switch modes you first press the `ESC` key and then either `i` to go into INSERT mode and `v` to go into VISUAL mode. The act of pressing `ESC` automatically puts us into NORMAL mode.

Once you're in NORMAL or VISUAL mode, to actually run a command (let's say the command we want is `d$`, don't worry what that means for now) you first press `:` followed by `d$`.

### Using Ctrl+p to do fuzzy file searching

Get ourselves into NORMAL mode by pressing `ESC`, followed by `:`, followed by `CtrlP` (note: for this particular plug-in, if you're already in NORMAL mode, you can just press the `Ctrl` and `p` keys together to trigger the fuzzy search to open).

Once the plug-in is open we can just start typing the name of file we're looking for and you'll see that it lists our all files it thinks matches what we're looking for.

### More Commands

It's worth remembering that most commands follow the process: `operator [number] motion`.

Here follows is a super short list of commands and what they do.  

### Cursor Movement

`h`	: left  
`l`	: right  
`k`	: up  
`j`	: down

Note: you can use your arrow keys still, but it's considered best practice by the VIM community to get used to using the above keys rather than the arrow keys.

### Page Movement

Rather than moving up and down a file line by line, we can instead just move up and down the file in sections.

`Ctrl+u` : move one page up  
`Ctrl+d` : move one page down  
`Ctrl+b` : move half page up  
`Ctrl+f` : move half page down

### Motions

With some commands we need to indicate what direction or motion we want to take.

`e`	: move to the end of a word  
`w`	: move to the start of next word (use with counter 5w)

**Examples**:

`5e` = move to the end of the 5th word in the sentence  
`5w` = move to the start of the word after the 5th (so actually move to the start of the 6th word)

### Operators

Here are some common operators available to use:

- `0` : moves cursor to the start of the line
- `$` : moves cursor to the end of the line
- `d` : delete (e.g. `d$` deletes the entire line)
- `G` : go to line (e.g. `5G` takes you to the 5th line of the file)
- `v`	: select (e.g. `v1e` selects one word, note: need to be in VISUAL mode)
- `V`	: select entire line (e.g. `V` selects the entire line, note: need to be in VISUAL mode)
- `j`	: move down one line (e.g. `d5j` deletes 5 lines)
- `y` : copy selected text (e.g. select text and then press `y`)
- `yy`	: copy line (e.g. `yy` copies line to buffer ready to be pasted)
- `p`	: paste after cursor (e.g. `p` pastes content, but obviously requires content to have been copied previously)
- `c`	: change (the change command deletes the selection and then puts user into INSERT mode so e.g. `cw` deletes the current word ready to have a new word entered)
- `i`	: inside of (e.g. `yi"` this will (y)ank all content (i)snide of the next set of quotation marks)
- `f`	: forward (e.g. `f,` moves to first comma. if you then press `;` you'll move to the next instance of the specified character. You can also move a set number of characters, so `2f,` will move the cursor to the second instance of a comma)
- `x`	: delete after cursor (e.g. place cursor where you want to delete a character and press `x` to delete it)
- `u`	: undo (e.g. just pressing `u` will undo the last change made)

### Search and Replace

You can search and replace within a file by first moving into NORMAL mode and then after pressing `:` enter the following… 

`50,100s/search/replace/gc`

…what this means is we limit the search range from line 50 up to line 100, we then look for the phrase `search` and we replace it with the phrase `replace`. We then use the `g` global flag which means don't stop after finding the first match. The `c` flag means don't just replace the instance, check with us first by asking us if we definitely want to carry out the replace.

### Misc

The following commands use the `vim-commentary.git` plugin… 

`gcc` = comment out a line  
`gcu` = uncomment the commented line

### Keep to the basics

The above commands quite literally do not even scratch the surface of what's available within VIM.

So the best thing to do is to find a comfortable set of commands from the list above and don't deviate from them until you've got them memorised (it's ok to Google for something you don't know but try to just focus on the basic commands for now).

## VIM Configuration

Let's now take a quick look at some configuration options we can add to our `.vimrc` file… 

{% highlight bash %}
    " switch syntax highlighting on, when the terminal has colors
    syntax on

    " use vim, not vi api
    set nocompatible

    " no backup files
    set nobackup

    " no write backup
    set nowritebackup

    " no swap file
    set noswapfile

    " command history
    set history=100

    " always show cursor
    set ruler

    " show incomplete commands
    set showcmd

    " incremental searching
    set incsearch

    " highlight search
    set hlsearch

    " ignore case in search
    set smartcase

    " clear search buffer
    :nnoremap § :nohlsearch<cr>

    " make sure undo history is kept for files in buffer.
    set hidden

    " turn indentation on
    filetype indent on

    " enable filetype plugins
    filetype plugin on

    " disable folding because it is evil
    set nofoldenable

    " turn word wrap off
    set nowrap

    " scroll with more context
    set scrolloff=10

    " allow backspace to delete end of line, indent and start of line characters
    set backspace=indent,eol,start

    " convert tabs to spaces
    set expandtab

    " set tab size
    set tabstop=4

    " the number of spaces inserted for a tab
    set shiftwidth=4

    " turn on line numbers
    set number

    " highlight tailing whitespace
    set list listchars=tab:\ \ ,trail:·

    " get rid of the delay when pressing O (for example)
    " http://stackoverflow.com/questions/2158516/vim-delay-before-o-opens-a-new-line
    set timeout timeoutlen=1000 ttimeoutlen=100

    " always show status bar
    set laststatus=2

    " set the status line to something useful
    set statusline=%f\ %=L:%l/%L\ %c\ (%p%%)

    " hide the toolbar
    set guioptions-=T

    " utf encoding
    set encoding=utf-8

    " autoload files that have changed outside of vim
    set autoread

    " jump to last cursor
    autocmd BufReadPost *
      \ if line("'\"") > 0 && line("'\"") <= line("$") |
      \   exe "normal g`\"" |
      \ endif

		" set-up ctrlp to include hidden files in its search
    let g:ctrlp_show_hidden=1

		" disable ctrlp's feature where it tries to intelligently work out the current working directory to search within
    let g:ctrlp_working_path_mode=0

		" don't let ctrlp take over the screen!
    let g:ctrlp_max_height=30
    
		" lets make sure we don't show these files
		set wildignore+=*/.git/*,*/.hg/*,*/.svn/*.,*/.DS_Store

    " allows us to more easily work with markdown files
    Bundle 'tpope/vim-markdown'

    " allows us to comment/uncomment lines and content
    Bundle 'tpope/vim-commentary.git'

    " remove whitespace on save
    autocmd BufWritePre * :%s/\s\+$//e
{% endhighlight %}

…hopefully the comments are self explanatory. There is so much you can configure with VIM that you just need to take the time to look at what set-up works for you, as chances are you'll be able to change it.

## Conclusion

So there you have it. A painfully short introduction to using VIM as your new web development environment. 

VIM is so powerful that it would take a life time to really cover everything. It just takes dedication.